<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garagem Inteligente V3 - CRUD Completo</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ÁREA DE NOTIFICAÇÃO GLOBAL -->
    <div id="notification-area" class="">
        <span id="notification-message"></span>
        <button class="close-btn" title="Fechar notificação" aria-label="Fechar notificação">×</button>
    </div>

    <!-- TELA DE AUTENTICAÇÃO (NOVO) -->
    <div id="auth-container" class="card" style="max-width: 450px; margin: 50px auto; text-align: center;">
        <h2><i class="fas fa-warehouse"></i> Bem-vindo à Garagem V3</h2>
        <p style="margin-bottom: 25px;">Faça login ou registre-se para gerenciar seus veículos.</p>

        <form id="formLogin" novalidate>
            <h3><i class="fas fa-sign-in-alt"></i> Entrar na sua Garagem</h3>
            <div style="text-align: left;">
                <label for="loginEmail"><i class="fas fa-envelope"></i> E-mail:</label>
                <input type="email" id="loginEmail" placeholder="seu@email.com" required>
            </div>
            <div style="text-align: left;">
                <label for="loginPassword"><i class="fas fa-key"></i> Senha:</label>
                <input type="password" id="loginPassword" placeholder="Sua senha" required>
            </div>
            <button type="submit" style="width: 100%;"><i class="fas fa-door-open"></i> Entrar</button>
        </form>

        <hr style="margin: 30px 0; border: 0; border-top: 1px solid #eee;">

        <form id="formRegister" novalidate>
            <h3><i class="fas fa-user-plus"></i> Não tem uma conta? Registre-se!</h3>
            <div style="text-align: left;">
                <label for="registerEmail"><i class="fas fa-envelope"></i> E-mail:</label>
                <input type="email" id="registerEmail" placeholder="Crie um e-mail para login" required>
            </div>
            <div style="text-align: left;">
                <label for="registerPassword"><i class="fas fa-key"></i> Senha:</label>
                <input type="password" id="registerPassword" placeholder="Mínimo 6 caracteres" required>
            </div>
            <button type="submit" class="botao-info" style="width: 100%;"><i class="fas fa-plus-circle"></i> Criar Conta</button>
        </form>
    </div>

    <!-- CONTAINER PRINCIPAL DA APLICAÇÃO (AGORA ENVOLVE A GARAGEM) -->
    <div id="app-container" style="display: none;">

        <aside id="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-warehouse"></i><h1>Garagem V3</h1>
            </div>
            <button id="btnAbrirModalAdicionar" class="botao-sidebar-add">
                <i class="fas fa-plus-circle"></i> Adicionar Novo Veículo
            </button>
             <div class="lista-veiculos-container card">
                 <h2><i class="fas fa-car"></i> Meus Veículos</h2>
                 <ul id="listaVeiculosSidebar">
                     <li class="placeholder">Nenhum veículo na garagem.</li>
                 </ul>
             </div>
             <!-- Botão de Logout -->
             <button id="btnLogout" class="botao-perigo" style="width: 100%; margin-top: auto;"><i class="fas fa-sign-out-alt"></i> Sair</button>
        </aside>

        <main id="main-content">
            <!-- O restante da sua main content (painel do veículo, etc) permanece aqui dentro -->
            
            <div id="painelVeiculoSelecionado" style="display: none;" class="card">
                 <!-- ... (todo o conteúdo do painel do veículo) ... -->
            </div>

            <div id="mensagem-selecione" style="display: block;" class="card">
                <h2><i class="fas fa-info-circle"></i> Bem-vindo à sua Garagem!</h2>
                <p>Adicione um veículo para começar ou gerencie os veículos existentes na lista à esquerda.</p>
                <p>Clique em um veículo na lista para ver seus detalhes e controles.</p>
            </div>
        </main>
    </div>

    <!-- Modais (Adicionar/Editar) permanecem aqui fora do app-container -->
    <dialog id="modalAdicionarVeiculo">
        <!-- ... (conteúdo do modal de adicionar) ... -->
    </dialog>

    <dialog id="modalEditarVeiculo">
        <!-- ... (conteúdo do modal de editar) ... -->
    </dialog>

    <script type="module" src="js/principal.js"></script>
</body>
</html>